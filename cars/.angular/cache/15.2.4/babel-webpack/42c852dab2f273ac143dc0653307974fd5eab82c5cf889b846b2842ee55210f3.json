{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../api/services\";\nimport * as i2 from \"../cars/cars.component\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction ReglogComponent_div_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 7)(1, \"p\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const car_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", car_r1.carid, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", car_r1.brand, \"\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", car_r1.model, \"\");\n  }\n}\nexport class ReglogComponent {\n  constructor(serv, carcomp, servi) {\n    this.serv = serv;\n    this.carcomp = carcomp;\n    this.servi = servi;\n    this.users = [];\n    this.autorized = false;\n    this.name = '';\n    this.mail = '';\n    this.pas = '';\n    this.cars = [];\n  }\n  ngOnInit() {\n    this.get();\n  }\n  get() {\n    this.serv.getAllUsers().subscribe(us => {\n      this.users = us;\n      console.log(us);\n    });\n  }\n  reg() {\n    let curr = {\n      name: this.name,\n      login: this.mail,\n      password: this.pas\n    };\n    console.log(curr);\n    this.name = '';\n    this.mail = '';\n    this.pas = '';\n    this.serv.addUs({\n      body: curr\n    });\n    this.get();\n  }\n  log() {\n    let curr = {\n      name: this.name,\n      login: this.mail,\n      password: this.pas\n    };\n    this.name = '';\n    this.mail = '';\n    this.pas = '';\n    for (let i = 0; i < this.users.length; i++) {\n      let element = this.users[i];\n      if (curr.login == element.login && curr.name == element.name && curr.password == element.password) {\n        this.autorized = true;\n        break;\n      }\n    }\n    this.showdata(this.autorized);\n  }\n  showdata(usl) {\n    console.log(usl);\n    if (usl) {\n      this.req();\n    } else {}\n  }\n  req() {\n    console.log('i work');\n    this.servi.getAllCar().subscribe(car => {\n      this.cars = car;\n    });\n    console.log(this.cars);\n  }\n  unLog() {\n    this.autorized = false;\n    this.cars = [];\n  }\n}\nReglogComponent.ɵfac = function ReglogComponent_Factory(t) {\n  return new (t || ReglogComponent)(i0.ɵɵdirectiveInject(i1.USService), i0.ɵɵdirectiveInject(i2.CarsComponent), i0.ɵɵdirectiveInject(i1.Service));\n};\nReglogComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ReglogComponent,\n  selectors: [[\"app-reglog\"]],\n  decls: 21,\n  vars: 4,\n  consts: [[1, \"log\"], [\"type\", \"text\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"email\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"type\", \"password\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [3, \"click\"], [1, \"list\"], [\"class\", \"pos\", 4, \"ngFor\", \"ngForOf\"], [1, \"pos\"]],\n  template: function ReglogComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0);\n      i0.ɵɵtext(1, \" \\u0418\\u043C\\u044F \");\n      i0.ɵɵelementStart(2, \"input\", 1);\n      i0.ɵɵlistener(\"ngModelChange\", function ReglogComponent_Template_input_ngModelChange_2_listener($event) {\n        return ctx.name = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(3, \"br\");\n      i0.ɵɵtext(4, \" E-mail \");\n      i0.ɵɵelementStart(5, \"input\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function ReglogComponent_Template_input_ngModelChange_5_listener($event) {\n        return ctx.mail = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(6, \"br\");\n      i0.ɵɵtext(7, \" \\u041F\\u0430\\u0440\\u043E\\u043B\\u044C \");\n      i0.ɵɵelementStart(8, \"input\", 3);\n      i0.ɵɵlistener(\"ngModelChange\", function ReglogComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.pas = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(9, \"br\");\n      i0.ɵɵelementStart(10, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ReglogComponent_Template_button_click_10_listener() {\n        return ctx.reg();\n      });\n      i0.ɵɵtext(11, \"\\u0420\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0430\\u0446\\u0438\\u044F\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ReglogComponent_Template_button_click_12_listener() {\n        return ctx.log();\n      });\n      i0.ɵɵtext(13, \" \\u0412\\u043E\\u0439\\u0442\\u0438\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ReglogComponent_Template_button_click_14_listener() {\n        return ctx.unLog();\n      });\n      i0.ɵɵtext(15, \"\\u0412\\u044B\\u0439\\u0442\\u0438\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"div\")(17, \"button\", 4);\n      i0.ɵɵlistener(\"click\", function ReglogComponent_Template_button_click_17_listener() {\n        return ctx.showdata(ctx.autorized);\n      });\n      i0.ɵɵtext(18, \"\\u041F\\u043E\\u043A\\u0430\\u0437\\u0430\\u0442\\u044C \\u0441\\u043F\\u0438\\u0441\\u043E\\u043A \\u0430\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u0435\\u0439\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(19, \"div\", 5);\n      i0.ɵɵtemplate(20, ReglogComponent_div_20_Template, 7, 3, \"div\", 6);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngModel\", ctx.name);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.mail);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngModel\", ctx.pas);\n      i0.ɵɵadvance(12);\n      i0.ɵɵproperty(\"ngForOf\", ctx.cars);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.RequiredValidator, i4.NgModel],\n  styles: [\".list[_ngcontent-%COMP%]{\\r\\n  margin: 0 auto;\\r\\n  text-align: center;\\r\\n}\\r\\n.pos[_ngcontent-%COMP%] {\\r\\n  display: flex;\\r\\n  text-align: center  ;\\r\\n}\\r\\n.pos[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{\\r\\n  font-size: 24px;\\r\\n  margin-right: 5px;\\r\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcmVnbG9nL3JlZ2xvZy5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsY0FBYztFQUNkLGtCQUFrQjtBQUNwQjtBQUNBO0VBQ0UsYUFBYTtFQUNiLG9CQUFvQjtBQUN0QjtBQUNBO0VBQ0UsZUFBZTtFQUNmLGlCQUFpQjtBQUNuQiIsInNvdXJjZXNDb250ZW50IjpbIi5saXN0e1xyXG4gIG1hcmdpbjogMCBhdXRvO1xyXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcclxufVxyXG4ucG9zIHtcclxuICBkaXNwbGF5OiBmbGV4O1xyXG4gIHRleHQtYWxpZ246IGNlbnRlciAgO1xyXG59XHJcbi5wb3MgcHtcclxuICBmb250LXNpemU6IDI0cHg7XHJcbiAgbWFyZ2luLXJpZ2h0OiA1cHg7XHJcbn1cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","ReglogComponent","constructor","serv","carcomp","servi","ngOnInit","get","getAllUsers","subscribe","us","users","console","log","reg","curr","name","login","mail","password","pas","addUs","body","i","length","element","autorized","showdata","usl","req","getAllCar","car","cars","unLog","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\WEB-dev\\cars\\src\\app\\reglog\\reglog.component.html","C:\\WEB-dev\\cars\\src\\app\\reglog\\reglog.component.ts"],"sourcesContent":["<div class=\"log\">\n\n    Имя\n  <input type=\"text\" required [(ngModel)]=\"name\"> <br>\n  E-mail\n  <input type=\"email\" required [(ngModel)]=\"mail\"> <br>\n  Пароль\n  <input type=\"password\" required  [(ngModel)]=\"pas\"> <br>\n  <button (click)=\"reg()\" >Регистрация</button> <button (click)=\"log()\"> Войти</button>\n\n</div>\n<button (click)=\"unLog()\">Выйти</button>\n<!-- <div class=\"pos\" *ngFor=\"let user of users\">\n  <p > {{user.name}}</p>\n  <p> {{user.login}}</p>\n  <p> {{user.password}}</p>\n</div> -->\n<div>\n  <button (click)=\"showdata(autorized)\">Показать список автомобилей</button>\n</div>\n<div class=\"list\">\n  <div class=\"pos\" *ngFor=\"let car of cars\">\n    <p > {{car.carid}}</p>\n    <p> {{car.brand}}</p>\n    <p> {{car.model}}</p>\n  </div>\n</div>\n","import { Component } from '@angular/core';\nimport { Car, User } from '../api/models';\nimport { USService } from '../api/services';\nimport { InMemoryUsers } from '../memory-us.service';\nimport { CarsComponent } from '../cars/cars.component';\nimport { Service } from '../api/services';\n@Component({\n  selector: 'app-reglog',\n  templateUrl: './reglog.component.html',\n  styleUrls: ['./reglog.component.css']\n})\nexport class ReglogComponent {\n\n  users : User[] = [];\n  autorized: boolean = false;\n  constructor(private serv : USService,protected carcomp : CarsComponent, private servi: Service ){}\n  ngOnInit(): void {\nthis.get();\n\n  }\n  get(){\n    this.serv.getAllUsers().subscribe((us) => {\n      this.users = us;\n      console.log(us);\n    });\n  }\n  name :string = '';\n  mail :string ='';\n  pas : string = '';\n  reg(){\n    let curr:User = {\n      name :this.name,\n      login : this.mail,\n      password : this.pas\n    };\n    console.log(curr);\n    this.name = '';\n    this.mail ='';\n    this.pas = '';\n    this.serv.addUs({body:curr});\n    this.get();\n  }\n  log(){\n    let curr:User = {\n      name :this.name,\n      login : this.mail,\n      password : this.pas\n    };\n    this.name = '';\n    this.mail ='';\n    this.pas = '';\n    for(let i = 0; i< this.users.length;i++){\n      let element = this.users[i];\n      if(curr.login == element.login && curr.name == element.name && curr.password == element.password){\n        this.autorized = true;\n\n        break;\n       }\n    }\n    this.showdata(this.autorized);\n  }\n  showdata(usl : boolean){\n    console.log(usl);\n    if(usl){\n    this.req();\n    }\n    else{\n\n    }\n  }\n  cars : Car[] =[];\n\n  req(): void {\n    console.log('i work');\n    this.servi.getAllCar().subscribe((car) => {\n      this.cars = car;\n    });\n    console.log(this.cars);\n\n  }\n  unLog():void{\n    this.autorized = false;\n    this.cars = [];\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}